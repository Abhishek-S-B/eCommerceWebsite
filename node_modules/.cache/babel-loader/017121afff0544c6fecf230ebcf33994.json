{"ast":null,"code":"import _slicedToArray from\"C:/Users/HP/reactpros/main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useRef,useState}from\"react\";import firebase from\"./firebase\";import\"./Proinsert.css\";import{useAuth}from\"./contexts/AuthContext\";import{useHistory}from\"react-router-dom\";import{storage}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var i=0;export default function Proinsert(){var history=useHistory();var index=useRef();var cat=useRef();var name=useRef();var price=useRef();var size1=useRef();var size2=useRef();var size3=useRef();var size4=useRef();var size5=useRef();var color=useRef();var desc=useRef();var cu=useAuth();var _useState=useState(),_useState2=_slicedToArray(_useState,2),img=_useState2[0],changeimg=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),img2=_useState4[0],changeimg2=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),img3=_useState6[0],changeimg3=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),img4=_useState8[0],changeimg4=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),url1=_useState10[0],changeurl=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),url2=_useState12[0],changeurl2=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),url3=_useState14[0],changeurl3=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),url4=_useState16[0],changeurl4=_useState16[1];var imgup=function imgup(e){changeimg(e.target.files[0]);};var imgup2=function imgup2(e){changeimg2(e.target.files[0]);};var imgup3=function imgup3(e){changeimg3(e.target.files[0]);};var imgup4=function imgup4(e){changeimg4(e.target.files[0]);};var handles=function handles(e){e.preventDefault();if(i===0){i=1;storage.ref(\"images/\".concat(img.name)).put(img).on(\"state_change\",function(snapshot){},function(error){console.log(error);},function(){storage.ref(\"images\").child(img.name).getDownloadURL().then(function(url){changeurl(url);});});}if(i===1){i=2;storage.ref(\"images/\".concat(img2.name)).put(img).on(\"state_change\",function(snapshot){},function(error){console.log(error);},function(){storage.ref(\"images\").child(img2.name).getDownloadURL().then(function(url){changeurl2(url);});});}if(i===2){i=3;storage.ref(\"images/\".concat(img3.name)).put(img).on(\"state_change\",function(snapshot){},function(error){console.log(error);},function(){storage.ref(\"images\").child(img3.name).getDownloadURL().then(function(url){changeurl3(url);});});}if(i===3){i=4;storage.ref(\"images/\".concat(img4.name)).put(img).on(\"state_change\",function(snapshot){},function(error){console.log(error);},function(){storage.ref(\"images\").child(img4.name).getDownloadURL().then(function(url){changeurl4(url);});});}if(i===4){i=0;firebase.database().ref(\"Products\").push({index:index.current.value,cat:cat.current.value,picture:[{url1:url1},{url2:url2},{url3:url3},{url4:url4}],name:name.current.value,price:price.current.value,size:[\"S\",\"M\",\"L\",\"XL\",\"XXL\"],color:color.current.value,description:desc.current.value});history.push(\"/Items\");}};console.log(url1);return/*#__PURE__*/_jsx(\"div\",{className:\"promain\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handles,children:[/*#__PURE__*/_jsx(\"input\",{ref:index,type:\"number\"}),/*#__PURE__*/_jsx(\"input\",{ref:cat,type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:imgup}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:imgup2}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:imgup3}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:imgup4}),/*#__PURE__*/_jsx(\"input\",{ref:name,type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{ref:price,type:\"number\"}),/*#__PURE__*/_jsx(\"input\",{ref:color,type:\"text\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:desc,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})});}","map":{"version":3,"sources":["C:/Users/HP/reactpros/main/src/Proinsert.js"],"names":["React","useRef","useState","firebase","useAuth","useHistory","storage","i","Proinsert","history","index","cat","name","price","size1","size2","size3","size4","size5","color","desc","cu","img","changeimg","img2","changeimg2","img3","changeimg3","img4","changeimg4","url1","changeurl","url2","changeurl2","url3","changeurl3","url4","changeurl4","imgup","e","target","files","imgup2","imgup3","imgup4","handles","preventDefault","ref","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","database","push","current","value","picture","size","description"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useRef, useState } from \"react\";\r\nimport firebase from \"./firebase\";\r\nimport \"./Proinsert.css\";\r\nimport { useAuth } from \"./contexts/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { storage } from \"./firebase\";\r\nlet i = 0;\r\nexport default function Proinsert() {\r\n  const history = useHistory();\r\n  const index = useRef();\r\n  const cat = useRef();\r\n\r\n  const name = useRef();\r\n  const price = useRef();\r\n  const size1 = useRef();\r\n  const size2 = useRef();\r\n  const size3 = useRef();\r\n  const size4 = useRef();\r\n  const size5 = useRef();\r\n  const color = useRef();\r\n  const desc = useRef();\r\n  const cu = useAuth();\r\n  const [img, changeimg] = useState();\r\n  const [img2, changeimg2] = useState();\r\n  const [img3, changeimg3] = useState();\r\n  const [img4, changeimg4] = useState();\r\n\r\n  const [url1, changeurl] = useState(\"\");\r\n  const [url2, changeurl2] = useState(\"\");\r\n  const [url3, changeurl3] = useState(\"\");\r\n  const [url4, changeurl4] = useState(\"\");\r\n  const imgup = (e) => {\r\n    changeimg(e.target.files[0]);\r\n  };\r\n  const imgup2 = (e) => {\r\n    changeimg2(e.target.files[0]);\r\n  };\r\n  const imgup3 = (e) => {\r\n    changeimg3(e.target.files[0]);\r\n  };\r\n  const imgup4 = (e) => {\r\n    changeimg4(e.target.files[0]);\r\n  };\r\n  const handles = (e) => {\r\n    e.preventDefault();\r\n    if (i === 0) {\r\n      i = 1;\r\n      storage\r\n        .ref(`images/${img.name}`)\r\n        .put(img)\r\n        .on(\r\n          \"state_change\",\r\n          (snapshot) => {},\r\n          (error) => {\r\n            console.log(error);\r\n          },\r\n          () => {\r\n            storage\r\n              .ref(\"images\")\r\n              .child(img.name)\r\n              .getDownloadURL()\r\n              .then((url) => {\r\n                changeurl(url);\r\n              });\r\n          }\r\n        );\r\n    }\r\n    if (i === 1) {\r\n      i = 2;\r\n      storage\r\n        .ref(`images/${img2.name}`)\r\n        .put(img)\r\n        .on(\r\n          \"state_change\",\r\n          (snapshot) => {},\r\n          (error) => {\r\n            console.log(error);\r\n          },\r\n          () => {\r\n            storage\r\n              .ref(\"images\")\r\n              .child(img2.name)\r\n              .getDownloadURL()\r\n              .then((url) => {\r\n                changeurl2(url);\r\n              });\r\n          }\r\n        );\r\n    }\r\n    if (i === 2) {\r\n      i = 3;\r\n      storage\r\n        .ref(`images/${img3.name}`)\r\n        .put(img)\r\n        .on(\r\n          \"state_change\",\r\n          (snapshot) => {},\r\n          (error) => {\r\n            console.log(error);\r\n          },\r\n          () => {\r\n            storage\r\n              .ref(\"images\")\r\n              .child(img3.name)\r\n              .getDownloadURL()\r\n              .then((url) => {\r\n                changeurl3(url);\r\n              });\r\n          }\r\n        );\r\n    }\r\n    if (i === 3) {\r\n      i = 4;\r\n      storage\r\n        .ref(`images/${img4.name}`)\r\n        .put(img)\r\n        .on(\r\n          \"state_change\",\r\n          (snapshot) => {},\r\n          (error) => {\r\n            console.log(error);\r\n          },\r\n          () => {\r\n            storage\r\n              .ref(\"images\")\r\n              .child(img4.name)\r\n              .getDownloadURL()\r\n              .then((url) => {\r\n                changeurl4(url);\r\n              });\r\n          }\r\n        );\r\n    }\r\n    if (i === 4) {\r\n      i = 0;\r\n      firebase\r\n        .database()\r\n        .ref(\"Products\")\r\n        .push({\r\n          index: index.current.value,\r\n          cat: cat.current.value,\r\n          picture: [{ url1 }, { url2 }, { url3 }, { url4 }],\r\n          name: name.current.value,\r\n          price: price.current.value,\r\n          size: [\"S\", \"M\", \"L\", \"XL\", \"XXL\"],\r\n          color: color.current.value,\r\n          description: desc.current.value,\r\n        });\r\n      history.push(\"/Items\");\r\n    }\r\n  };\r\n  console.log(url1);\r\n  return (\r\n    <div className=\"promain\">\r\n      <form onSubmit={handles}>\r\n        <input ref={index} type=\"number\" />\r\n        <input ref={cat} type=\"text\" />\r\n        <input type=\"file\" onChange={imgup} />\r\n        <input type=\"file\" onChange={imgup2} />\r\n        <input type=\"file\" onChange={imgup3} />\r\n        <input type=\"file\" onChange={imgup4} />\r\n        <input ref={name} type=\"text\" />\r\n        <input ref={price} type=\"number\" />\r\n        <input ref={color} type=\"text\" />\r\n        <textarea ref={desc} type=\"text\" />\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}