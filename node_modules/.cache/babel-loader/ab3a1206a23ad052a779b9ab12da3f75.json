{"ast":null,"code":"import Content from\"../contents/Content\";import Nav from\"../navbar/Nav\";import\"./Order.css\";import firebase from\"../firebase\";import{useHistory}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Order(){var history=useHistory();var q;var cu=useAuth();var properties=[];var proid=[];firebase.database().ref(\"User\").on(\"value\",function(snapshot){var i=snapshot.val();for(var id in i){if(i[id].email===cu.currentUser.email){firebase.database().ref(\"User/\".concat(id,\"/orders\")).on(\"value\",function(snapshot){var j=snapshot.val();for(var y in j){if(j[y]!==-1){properties.push(j[y]);}}});}}});firebase.database().ref(\"Products\").on(\"value\",function(sc){var k=sc.val();var _loop=function _loop(id){properties.map(function(index){if(Number(k[id].index)===Number(index.productid)){proid.push(k[id]);}});};for(var id in k){_loop(id);}});var handleexchange=function handleexchange(){history.push({pathname:\"/bestItem\",state:q.index});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(_Fragment,{children:properties.map(function(index){for(var u in proid){if(Number(index.productid)===Number(proid[u].index)){q=proid[u];}}return/*#__PURE__*/_jsx(\"div\",{className:\"ordercardmain1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ordercardmain01\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ordercardmain2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ordernum\",children:/*#__PURE__*/_jsx(\"p\",{className:\"orderheadname2\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ordercardmain3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"orderheadname\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orderpro\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderphotosub\",onClick:handleexchange,children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderphoto\",children:/*#__PURE__*/_jsx(\"img\",{src:q.picture[0].url1,className:\"orderphoto1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ordersidemain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ordersidemain2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"ordersidetxt\",children:/*#__PURE__*/_jsx(\"u\",{children:\"Product\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"ordersidetxt\",children:q.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"ordersidetxt\",children:[\"Rs.\",q.price,\"/-\"]})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ordersubcard1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orderip\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Delivered to:\",index.Name]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderip\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"E-mail:\",index.email]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderip\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Ph.no:\",index.Mobile]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderip\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"City:\",index.City]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderip\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"State:\",index.State]})}),/*#__PURE__*/_jsx(\"div\",{className:\"orderip\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Total amount:Rs.\",index.total,\"/-\"]})})]})]})]})})});})}),/*#__PURE__*/_jsx(Content,{notindex:-1})]});}export default Order;","map":{"version":3,"sources":["C:/Users/HP/reactpros/main/src/userdet/Order.js"],"names":["Content","Nav","firebase","useHistory","useAuth","Order","history","q","cu","properties","proid","database","ref","on","snapshot","i","val","id","email","currentUser","j","y","push","sc","k","map","index","Number","productid","handleexchange","pathname","state","u","picture","url1","name","price","Name","Mobile","City","State","total"],"mappings":"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","sourcesContent":["import Content from \"../contents/Content\";\r\nimport Nav from \"../navbar/Nav\";\r\nimport \"./Order.css\";\r\nimport firebase from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nfunction Order() {\r\n  const history = useHistory();\r\n  let q;\r\n  const cu = useAuth();\r\n  const properties = [];\r\n  const proid = [];\r\n  firebase\r\n    .database()\r\n    .ref(\"User\")\r\n    .on(\"value\", (snapshot) => {\r\n      const i = snapshot.val();\r\n      for (let id in i) {\r\n        if (i[id].email === cu.currentUser.email) {\r\n          firebase\r\n            .database()\r\n            .ref(`User/${id}/orders`)\r\n            .on(\"value\", (snapshot) => {\r\n              let j = snapshot.val();\r\n              for (let y in j) {\r\n                if (j[y] !== -1) {\r\n                  properties.push(j[y]);\r\n                }\r\n              }\r\n            });\r\n        }\r\n      }\r\n    });\r\n  firebase\r\n    .database()\r\n    .ref(\"Products\")\r\n    .on(\"value\", (sc) => {\r\n      const k = sc.val();\r\n      for (let id in k) {\r\n        properties.map((index) => {\r\n          if (Number(k[id].index) === Number(index.productid)) {\r\n            proid.push(k[id]);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  const handleexchange = () => {\r\n    history.push({ pathname: \"/bestItem\", state: q.index });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <>\r\n        {properties.map((index) => {\r\n          for (let u in proid) {\r\n            if (Number(index.productid) === Number(proid[u].index)) {\r\n              q = proid[u];\r\n            }\r\n          }\r\n          return (\r\n            <div className=\"ordercardmain1\">\r\n              <div className=\"ordercardmain01\">\r\n                <div className=\"ordercardmain2\">\r\n                  <div className=\"ordernum\">\r\n                    <p className=\"orderheadname2\"></p>\r\n                  </div>\r\n\r\n                  <div className=\"ordercardmain3\">\r\n                    <p className=\"orderheadname\"></p>\r\n                    <div className=\"orderpro\">\r\n                      <div className=\"orderphotosub\" onClick={handleexchange}>\r\n                        <div className=\"orderphoto\">\r\n                          <img\r\n                            src={q.picture[0].url1}\r\n                            className=\"orderphoto1\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"ordersidemain\">\r\n                          <div className=\"ordersidemain2\">\r\n                            <p className=\"ordersidetxt\">\r\n                              <u>Product</u>\r\n                            </p>\r\n                            <p className=\"ordersidetxt\">{q.name}</p>\r\n                            <p className=\"ordersidetxt\">Rs.{q.price}/-</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ordersubcard1\">\r\n                      <div className=\"orderip\">\r\n                        <p>Delivered to:{index.Name}</p>\r\n                      </div>\r\n                      <div className=\"orderip\">\r\n                        <p>E-mail:{index.email}</p>\r\n                      </div>\r\n                      <div className=\"orderip\">\r\n                        <p>Ph.no:{index.Mobile}</p>\r\n                      </div>\r\n                      <div className=\"orderip\">\r\n                        <p>City:{index.City}</p>\r\n                      </div>\r\n                      <div className=\"orderip\">\r\n                        <p>State:{index.State}</p>\r\n                      </div>\r\n                      <div className=\"orderip\">\r\n                        <p>Total amount:Rs.{index.total}/-</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </>\r\n      <Content notindex={-1} />\r\n    </>\r\n  );\r\n}\r\nexport default Order;\r\n"]},"metadata":{},"sourceType":"module"}