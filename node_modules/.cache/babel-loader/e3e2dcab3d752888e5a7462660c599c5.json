{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/reactpros/main/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/reactpros/main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/HP/reactpros/main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./Log.css\";import React,{useRef,useState,useEffect}from\"react\";import{useAuth}from\"../contexts/AuthContext\";import{Link,useHistory}from\"react-router-dom\";import firebase from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Logsign(){var emailRef=useRef();var passwordRef=useRef();var passwordConfirmRef=useRef();var _useAuth=useAuth(),login=_useAuth.login;var _useAuth2=useAuth(),signup=_useAuth2.signup;var _useAuth3=useAuth(),logout=_useAuth3.logout;var _useState=useState(\"Log In\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(\"Sign Up\"),_useState4=_slicedToArray(_useState3,2),error2=_useState4[0],setError2=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useAuth4=useAuth(),resetPassword=_useAuth4.resetPassword;var _useState7=useState(\"Forgot Password\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var history=useHistory();var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),log=_useState10[0],changelog=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),sign=_useState12[0],changesign=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),fp=_useState14[0],changefp=_useState14[1];var b=0;var cu=useAuth();useEffect(function(){if(cu.currentUser!==null){logout();}},[]);var func1=function func1(){changelog(true);changesign(false);changefp(false);};var func2=function func2(){changesign(true);changelog(false);changefp(false);};var func3=function func3(){changesign(false);changelog(false);changefp(true);};function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setError(\"\");setLoading(true);_context.next=6;return login(emailRef.current.value,passwordRef.current.value);case 6:history.push({pathname:\"/Items\"});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setError(\"Failed to log in\");case 12:setLoading(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _handleSubmit.apply(this,arguments);}function handleSubmit2(_x2){return _handleSubmit2.apply(this,arguments);}function _handleSubmit2(){_handleSubmit2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(passwordRef.current.value!==passwordConfirmRef.current.value)){_context2.next=3;break;}return _context2.abrupt(\"return\",setError2(\"Passwords do not match\"));case 3:_context2.prev=3;setError2(\"\");setLoading(true);_context2.next=8;return signup(emailRef.current.value,passwordRef.current.value);case 8:setError2(\"Login to Continue\");firebase.database().ref(\"User\").push({email:emailRef.current.value,cart:[-1],orders:[-1]});history.push(\"/\");_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](3);setError2(\"Failed to create an account\");case 16:setLoading(false);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[3,13]]);}));return _handleSubmit2.apply(this,arguments);}function handleSubmit3(_x3){return _handleSubmit3.apply(this,arguments);}function _handleSubmit3(){_handleSubmit3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.prev=1;setMessage(\"\");setLoading(true);_context3.next=6;return resetPassword(emailRef.current.value);case 6:setMessage(\"Check your inbox for further instructions\");_context3.next=11;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](1);case 11:setLoading(false);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,9]]);}));return _handleSubmit3.apply(this,arguments);}var adminfunc=function adminfunc(){b=b+1;if(b===4){history.push(\"/nimda\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"LogMain1\",children:[log&&/*#__PURE__*/_jsx(\"div\",{className:\"Login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logsubs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loghead\",children:/*#__PURE__*/_jsx(\"p\",{className:\"loginhead\",children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginsub1\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"formlog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginsub11\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ipdiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inputlog\",children:/*#__PURE__*/_jsx(\"input\",{className:\"inputlogip\",type:\"text\",ref:emailRef,placeholder:\"Email\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"inputlog\",children:/*#__PURE__*/_jsx(\"input\",{className:\"inputlogip\",type:\"password\",ref:passwordRef,required:true,placeholder:\"Password\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputlogbtn\",children:/*#__PURE__*/_jsx(\"button\",{disabled:loading,className:\"inputlogbtn1\",type:\"submit\",children:\"Log In\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"su\",onClick:func3,children:\"Forgot Password?\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginsub2\"})]})}),!log&&/*#__PURE__*/_jsx(\"div\",{className:\"Login2\",onClick:func1,children:/*#__PURE__*/_jsx(\"p\",{className:\"largehead\",children:\"Log In\"})}),sign&&/*#__PURE__*/_jsx(\"div\",{className:\"Login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logsubs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loghead2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"loginhead\",children:error2})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginsub122\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loginsub112\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit2,className:\"formsign\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ipdiv\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inputlog1\",children:/*#__PURE__*/_jsx(\"input\",{className:\"inputlogip\",type:\"text\",placeholder:\"Email\",ref:emailRef,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"inputlog1\",children:/*#__PURE__*/_jsx(\"input\",{className:\"inputlogip\",type:\"password\",placeholder:\"Password\",ref:passwordRef,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"inputlog1\",children:/*#__PURE__*/_jsx(\"input\",{className:\"inputlogip\",type:\"password\",placeholder:\"Confirm Password\",ref:passwordConfirmRef,required:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputlogbtn2\",children:/*#__PURE__*/_jsx(\"button\",{disabled:loading,type:\"submit\",className:\"inputlogbtn21\",children:\"Sign Up\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginsub2\"})]})}),!sign&&/*#__PURE__*/_jsx(\"div\",{className:\"signup2\",onClick:func2,children:/*#__PURE__*/_jsx(\"p\",{className:\"largehead\",children:\"Sign Up\"})}),fp&&/*#__PURE__*/_jsx(\"div\",{className:\"fpmain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fpcard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fpname\",children:/*#__PURE__*/_jsx(\"p\",{className:\"fphead\",children:message})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit3,className:\"formfp\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fpmid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inputlog1\",children:/*#__PURE__*/_jsx(\"input\",{className:\"inputlogip\",type:\"text\",placeholder:\"Email\",ref:emailRef,required:true})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fpback\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:func1,className:\"backtxt\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"fpbtn\",type:\"submit\",children:\"Get\"})]})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"adminbtndiv\",children:/*#__PURE__*/_jsx(\"button\",{className:\"adminbtn\",onClick:adminfunc})})]});}export default Logsign;","map":{"version":3,"sources":["C:/Users/HP/reactpros/main/src/components/Logsign.js"],"names":["React","useRef","useState","useEffect","useAuth","Link","useHistory","firebase","Logsign","emailRef","passwordRef","passwordConfirmRef","login","signup","logout","error","setError","error2","setError2","loading","setLoading","resetPassword","message","setMessage","history","log","changelog","sign","changesign","fp","changefp","b","cu","currentUser","func1","func2","func3","handleSubmit","e","preventDefault","current","value","push","pathname","handleSubmit2","database","ref","email","cart","orders","handleSubmit3","adminfunc"],"mappings":"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","sourcesContent":["import \"./Log.css\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport firebase from \"../firebase\";\r\nfunction Logsign() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const passwordConfirmRef = useRef();\r\n  const { login } = useAuth();\r\n  const { signup } = useAuth();\r\n  const { logout } = useAuth();\r\n  const [error, setError] = useState(\"Log In\");\r\n  const [error2, setError2] = useState(\"Sign Up\");\r\n  const [loading, setLoading] = useState(false);\r\n  const { resetPassword } = useAuth();\r\n  const [message, setMessage] = useState(\"Forgot Password\");\r\n  const history = useHistory();\r\n  const [log, changelog] = useState(true);\r\n  const [sign, changesign] = useState(false);\r\n  const [fp, changefp] = useState(false);\r\n  let b = 0;\r\n  const cu = useAuth();\r\n  useEffect(() => {\r\n    if (cu.currentUser !== null) {\r\n      logout();\r\n    }\r\n  }, []);\r\n  const func1 = () => {\r\n    changelog(true);\r\n    changesign(false);\r\n    changefp(false);\r\n  };\r\n  const func2 = () => {\r\n    changesign(true);\r\n    changelog(false);\r\n    changefp(false);\r\n  };\r\n  const func3 = () => {\r\n    changesign(false);\r\n    changelog(false);\r\n    changefp(true);\r\n  };\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await login(emailRef.current.value, passwordRef.current.value);\r\n      history.push({ pathname: \"/Items\" });\r\n    } catch {\r\n      setError(\"Failed to log in\");\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  async function handleSubmit2(e) {\r\n    e.preventDefault();\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError2(\"Passwords do not match\");\r\n    }\r\n\r\n    try {\r\n      setError2(\"\");\r\n      setLoading(true);\r\n      await signup(emailRef.current.value, passwordRef.current.value);\r\n      setError2(\"Login to Continue\");\r\n      firebase\r\n        .database()\r\n        .ref(\"User\")\r\n        .push({\r\n          email: emailRef.current.value,\r\n          cart: [-1],\r\n          orders: [-1],\r\n        });\r\n      history.push(\"/\");\r\n    } catch {\r\n      setError2(\"Failed to create an account\");\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  async function handleSubmit3(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setMessage(\"\");\r\n      setLoading(true);\r\n      await resetPassword(emailRef.current.value);\r\n      setMessage(\"Check your inbox for further instructions\");\r\n    } catch {}\r\n\r\n    setLoading(false);\r\n  }\r\n  const adminfunc = () => {\r\n    b = b + 1;\r\n    if (b === 4) {\r\n      history.push(\"/nimda\");\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"LogMain1\">\r\n        {log && (\r\n          <div className=\"Login\">\r\n            <div className=\"logsubs\">\r\n              <div className=\"loghead\">\r\n                <p className=\"loginhead\">{error}</p>\r\n              </div>\r\n\r\n              <div className=\"loginsub1\">\r\n                <form onSubmit={handleSubmit} className=\"formlog\">\r\n                  <div className=\"loginsub11\">\r\n                    <div className=\"ipdiv\">\r\n                      <div className=\"inputlog\">\r\n                        <input\r\n                          className=\"inputlogip\"\r\n                          type=\"text\"\r\n                          ref={emailRef}\r\n                          placeholder=\"Email\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"inputlog\">\r\n                        <input\r\n                          className=\"inputlogip\"\r\n                          type=\"password\"\r\n                          ref={passwordRef}\r\n                          required\r\n                          placeholder=\"Password\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"inputlogbtn\">\r\n                      <button\r\n                        disabled={loading}\r\n                        className=\"inputlogbtn1\"\r\n                        type=\"submit\"\r\n                      >\r\n                        Log In\r\n                      </button>\r\n                    </div>\r\n                    <p className=\"su\" onClick={func3}>\r\n                      Forgot Password?\r\n                    </p>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"loginsub2\"></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {!log && (\r\n          <div className=\"Login2\" onClick={func1}>\r\n            <p className=\"largehead\">Log In</p>\r\n          </div>\r\n        )}\r\n        {sign && (\r\n          <div className=\"Login\">\r\n            <div className=\"logsubs\">\r\n              <div className=\"loghead2\">\r\n                <p className=\"loginhead\">{error2}</p>\r\n              </div>\r\n\r\n              <div className=\"loginsub122\">\r\n                <div className=\"loginsub112\">\r\n                  <form onSubmit={handleSubmit2} className=\"formsign\">\r\n                    <div className=\"ipdiv\">\r\n                      <div className=\"inputlog1\">\r\n                        <input\r\n                          className=\"inputlogip\"\r\n                          type=\"text\"\r\n                          placeholder=\"Email\"\r\n                          ref={emailRef}\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"inputlog1\">\r\n                        <input\r\n                          className=\"inputlogip\"\r\n                          type=\"password\"\r\n                          placeholder=\"Password\"\r\n                          ref={passwordRef}\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"inputlog1\">\r\n                        <input\r\n                          className=\"inputlogip\"\r\n                          type=\"password\"\r\n                          placeholder=\"Confirm Password\"\r\n                          ref={passwordConfirmRef}\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"inputlogbtn2\">\r\n                      <button\r\n                        disabled={loading}\r\n                        type=\"submit\"\r\n                        className=\"inputlogbtn21\"\r\n                      >\r\n                        Sign Up\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"loginsub2\"></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {!sign && (\r\n          <div className=\"signup2\" onClick={func2}>\r\n            <p className=\"largehead\">Sign Up</p>\r\n          </div>\r\n        )}\r\n        {fp && (\r\n          <div className=\"fpmain\">\r\n            <div className=\"fpcard\">\r\n              <div className=\"fpname\">\r\n                <p className=\"fphead\">{message}</p>\r\n              </div>\r\n              <form onSubmit={handleSubmit3} className=\"formfp\">\r\n                <div className=\"fpmid\">\r\n                  <div className=\"inputlog1\">\r\n                    <input\r\n                      className=\"inputlogip\"\r\n                      type=\"text\"\r\n                      placeholder=\"Email\"\r\n                      ref={emailRef}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"fpback\">\r\n                  <p onClick={func1} className=\"backtxt\">\r\n                    Back\r\n                  </p>\r\n                  <button className=\"fpbtn\" type=\"submit\">\r\n                    Get\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"adminbtndiv\">\r\n        <button className=\"adminbtn\" onClick={adminfunc}></button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default Logsign;\r\n"]},"metadata":{},"sourceType":"module"}