{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\reactpros\\\\main\\\\src\\\\components\\\\Logsign.js\";\nimport \"./Log.css\";\nimport React, { useRef, useState } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport firebase from \"../firebase\";\nimport { render } from \"@testing-library/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Logsign {\n  constructor() {\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const passwordConfirmRef = useRef();\n    const {\n      login\n    } = useAuth();\n    const {\n      signup\n    } = useAuth();\n    const [error, setError] = useState(\"Log In\");\n    const [error2, setError2] = useState(\"Sign Up\");\n    const [loading, setLoading] = useState(false);\n    const {\n      resetPassword\n    } = useAuth();\n    const [message, setMessage] = useState(\"Forgot Password\");\n    const history = useHistory();\n    const [log, changelog] = useState(true);\n    const [sign, changesign] = useState(false);\n    const [fp, changefp] = useState(false);\n    let b = 0;\n\n    const func1 = () => {\n      changelog(true);\n      changesign(false);\n      changefp(false);\n    };\n\n    const func2 = () => {\n      changesign(true);\n      changelog(false);\n      changefp(false);\n    };\n\n    const func3 = () => {\n      changesign(false);\n      changelog(false);\n      changefp(true);\n    };\n\n    async function handleSubmit(e) {\n      e.preventDefault();\n\n      try {\n        setError(\"\");\n        setLoading(true);\n        await login(emailRef.current.value, passwordRef.current.value);\n        const properties = [];\n        firebase.database().ref(\"Products\").on(\"value\", snapshot => {\n          const i = snapshot.val();\n\n          for (let id in i) {\n            properties.push(i[id]);\n          }\n        });\n\n        for (let r in properties) {\n          console.log(r);\n        }\n\n        history.push({\n          pathname: \"/Items\",\n          state: {\n            properties\n          }\n        });\n      } catch {\n        setError(\"Failed to log in\");\n      }\n\n      setLoading(false);\n    }\n\n    async function handleSubmit2(e) {\n      e.preventDefault();\n\n      if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n        return setError2(\"Passwords do not match\");\n      }\n\n      try {\n        setError2(\"\");\n        setLoading(true);\n        await signup(emailRef.current.value, passwordRef.current.value);\n        setError2(\"Login to Continue\");\n        firebase.database().ref(\"User\").push({\n          email: emailRef.current.value,\n          cart: [-1],\n          orders: [-1],\n          Fullname: \"-1\",\n          Mobile: \"-1\",\n          Houseno: \"-1\",\n          Area: \"_\",\n          Town: \"-1\",\n          State: \"-1\"\n        });\n        history.push(\"/\");\n      } catch {\n        setError2(\"Failed to create an account\");\n      }\n\n      setLoading(false);\n    }\n\n    async function handleSubmit3(e) {\n      e.preventDefault();\n\n      try {\n        setMessage(\"\");\n        setLoading(true);\n        await resetPassword(emailRef.current.value);\n        setMessage(\"Check your inbox for further instructions\");\n      } catch {}\n\n      setLoading(false);\n    }\n\n    const adminfunc = () => {\n      b = b + 1;\n\n      if (b === 4) {\n        history.push(\"/nimda\");\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"LogMain1\",\n        children: [log && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logsubs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loghead\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"loginhead\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loginsub1\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"formlog\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loginsub11\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ipdiv\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inputlog\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"inputlogip\",\n                        type: \"text\",\n                        ref: emailRef,\n                        placeholder: \"Email\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inputlog\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"inputlogip\",\n                        type: \"password\",\n                        ref: passwordRef,\n                        required: true,\n                        placeholder: \"Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"inputlogbtn\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      disabled: loading,\n                      className: \"inputlogbtn1\",\n                      type: \"submit\",\n                      children: \"Log In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"su\",\n                    onClick: func3,\n                    children: \"Forgot Password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loginsub2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), !log && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login2\",\n          onClick: func1,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"largehead\",\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), sign && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logsubs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loghead2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"loginhead\",\n                children: error2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loginsub122\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loginsub112\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: handleSubmit2,\n                  className: \"formsign\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ipdiv\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inputlog1\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"inputlogip\",\n                        type: \"text\",\n                        placeholder: \"Email\",\n                        ref: emailRef,\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inputlog1\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"inputlogip\",\n                        type: \"password\",\n                        placeholder: \"Password\",\n                        ref: passwordRef,\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"inputlog1\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"inputlogip\",\n                        type: \"password\",\n                        placeholder: \"Confirm Password\",\n                        ref: passwordConfirmRef,\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"inputlogbtn2\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      disabled: loading,\n                      type: \"submit\",\n                      className: \"inputlogbtn21\",\n                      children: \"Sign Up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loginsub2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), !sign && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup2\",\n          onClick: func2,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"largehead\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), fp && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fpmain\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fpcard\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fpname\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"fphead\",\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit3,\n              className: \"formfp\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fpmid\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inputlog1\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"inputlogip\",\n                    type: \"text\",\n                    placeholder: \"Email\",\n                    ref: emailRef,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fpback\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  onClick: func1,\n                  className: \"backtxt\",\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"fpbtn\",\n                  type: \"submit\",\n                  children: \"Get\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"adminbtndiv\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"adminbtn\",\n          onClick: adminfunc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Logsign;","map":{"version":3,"sources":["C:/Users/HP/reactpros/main/src/components/Logsign.js"],"names":["React","useRef","useState","useAuth","Link","useHistory","ReactDOM","firebase","render","Logsign","constructor","emailRef","passwordRef","passwordConfirmRef","login","signup","error","setError","error2","setError2","loading","setLoading","resetPassword","message","setMessage","history","log","changelog","sign","changesign","fp","changefp","b","func1","func2","func3","handleSubmit","e","preventDefault","current","value","properties","database","ref","on","snapshot","i","val","id","push","r","console","pathname","state","handleSubmit2","email","cart","orders","Fullname","Mobile","Houseno","Area","Town","State","handleSubmit3","adminfunc"],"mappings":"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","sourcesContent":["import \"./Log.css\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport ReactDOM from \"react-dom\";\r\nimport firebase from \"../firebase\";\r\nimport { render } from \"@testing-library/react\";\r\nclass Logsign {\r\n  constructor() {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const { login } = useAuth();\r\n    const { signup } = useAuth();\r\n    const [error, setError] = useState(\"Log In\");\r\n    const [error2, setError2] = useState(\"Sign Up\");\r\n    const [loading, setLoading] = useState(false);\r\n    const { resetPassword } = useAuth();\r\n    const [message, setMessage] = useState(\"Forgot Password\");\r\n    const history = useHistory();\r\n    const [log, changelog] = useState(true);\r\n    const [sign, changesign] = useState(false);\r\n    const [fp, changefp] = useState(false);\r\n    let b = 0;\r\n\r\n    const func1 = () => {\r\n      changelog(true);\r\n      changesign(false);\r\n      changefp(false);\r\n    };\r\n    const func2 = () => {\r\n      changesign(true);\r\n      changelog(false);\r\n      changefp(false);\r\n    };\r\n    const func3 = () => {\r\n      changesign(false);\r\n      changelog(false);\r\n      changefp(true);\r\n    };\r\n\r\n    async function handleSubmit(e) {\r\n      e.preventDefault();\r\n\r\n      try {\r\n        setError(\"\");\r\n        setLoading(true);\r\n        await login(emailRef.current.value, passwordRef.current.value);\r\n        const properties = [];\r\n        firebase\r\n          .database()\r\n          .ref(\"Products\")\r\n          .on(\"value\", (snapshot) => {\r\n            const i = snapshot.val();\r\n            for (let id in i) {\r\n              properties.push(i[id]);\r\n            }\r\n          });\r\n        for (let r in properties) {\r\n          console.log(r);\r\n        }\r\n        history.push({ pathname: \"/Items\", state: { properties } });\r\n      } catch {\r\n        setError(\"Failed to log in\");\r\n      }\r\n\r\n      setLoading(false);\r\n    }\r\n\r\n    async function handleSubmit2(e) {\r\n      e.preventDefault();\r\n\r\n      if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n        return setError2(\"Passwords do not match\");\r\n      }\r\n\r\n      try {\r\n        setError2(\"\");\r\n        setLoading(true);\r\n        await signup(emailRef.current.value, passwordRef.current.value);\r\n        setError2(\"Login to Continue\");\r\n        firebase\r\n          .database()\r\n          .ref(\"User\")\r\n          .push({\r\n            email: emailRef.current.value,\r\n            cart: [-1],\r\n            orders: [-1],\r\n            Fullname: \"-1\",\r\n            Mobile: \"-1\",\r\n            Houseno: \"-1\",\r\n            Area: \"_\",\r\n            Town: \"-1\",\r\n            State: \"-1\",\r\n          });\r\n        history.push(\"/\");\r\n      } catch {\r\n        setError2(\"Failed to create an account\");\r\n      }\r\n\r\n      setLoading(false);\r\n    }\r\n\r\n    async function handleSubmit3(e) {\r\n      e.preventDefault();\r\n\r\n      try {\r\n        setMessage(\"\");\r\n        setLoading(true);\r\n        await resetPassword(emailRef.current.value);\r\n        setMessage(\"Check your inbox for further instructions\");\r\n      } catch {}\r\n\r\n      setLoading(false);\r\n    }\r\n    const adminfunc = () => {\r\n      b = b + 1;\r\n      if (b === 4) {\r\n        history.push(\"/nimda\");\r\n      }\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"LogMain1\">\r\n          {log && (\r\n            <div className=\"Login\">\r\n              <div className=\"logsubs\">\r\n                <div className=\"loghead\">\r\n                  <p className=\"loginhead\">{error}</p>\r\n                </div>\r\n\r\n                <div className=\"loginsub1\">\r\n                  <form onSubmit={handleSubmit} className=\"formlog\">\r\n                    <div className=\"loginsub11\">\r\n                      <div className=\"ipdiv\">\r\n                        <div className=\"inputlog\">\r\n                          <input\r\n                            className=\"inputlogip\"\r\n                            type=\"text\"\r\n                            ref={emailRef}\r\n                            placeholder=\"Email\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div className=\"inputlog\">\r\n                          <input\r\n                            className=\"inputlogip\"\r\n                            type=\"password\"\r\n                            ref={passwordRef}\r\n                            required\r\n                            placeholder=\"Password\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"inputlogbtn\">\r\n                        <button\r\n                          disabled={loading}\r\n                          className=\"inputlogbtn1\"\r\n                          type=\"submit\"\r\n                        >\r\n                          Log In\r\n                        </button>\r\n                      </div>\r\n                      <p className=\"su\" onClick={func3}>\r\n                        Forgot Password?\r\n                      </p>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <div className=\"loginsub2\"></div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {!log && (\r\n            <div className=\"Login2\" onClick={func1}>\r\n              <p className=\"largehead\">Log In</p>\r\n            </div>\r\n          )}\r\n          {sign && (\r\n            <div className=\"Login\">\r\n              <div className=\"logsubs\">\r\n                <div className=\"loghead2\">\r\n                  <p className=\"loginhead\">{error2}</p>\r\n                </div>\r\n\r\n                <div className=\"loginsub122\">\r\n                  <div className=\"loginsub112\">\r\n                    <form onSubmit={handleSubmit2} className=\"formsign\">\r\n                      <div className=\"ipdiv\">\r\n                        <div className=\"inputlog1\">\r\n                          <input\r\n                            className=\"inputlogip\"\r\n                            type=\"text\"\r\n                            placeholder=\"Email\"\r\n                            ref={emailRef}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div className=\"inputlog1\">\r\n                          <input\r\n                            className=\"inputlogip\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            ref={passwordRef}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div className=\"inputlog1\">\r\n                          <input\r\n                            className=\"inputlogip\"\r\n                            type=\"password\"\r\n                            placeholder=\"Confirm Password\"\r\n                            ref={passwordConfirmRef}\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"inputlogbtn2\">\r\n                        <button\r\n                          disabled={loading}\r\n                          type=\"submit\"\r\n                          className=\"inputlogbtn21\"\r\n                        >\r\n                          Sign Up\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"loginsub2\"></div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {!sign && (\r\n            <div className=\"signup2\" onClick={func2}>\r\n              <p className=\"largehead\">Sign Up</p>\r\n            </div>\r\n          )}\r\n          {fp && (\r\n            <div className=\"fpmain\">\r\n              <div className=\"fpcard\">\r\n                <div className=\"fpname\">\r\n                  <p className=\"fphead\">{message}</p>\r\n                </div>\r\n                <form onSubmit={handleSubmit3} className=\"formfp\">\r\n                  <div className=\"fpmid\">\r\n                    <div className=\"inputlog1\">\r\n                      <input\r\n                        className=\"inputlogip\"\r\n                        type=\"text\"\r\n                        placeholder=\"Email\"\r\n                        ref={emailRef}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"fpback\">\r\n                    <p onClick={func1} className=\"backtxt\">\r\n                      Back\r\n                    </p>\r\n                    <button className=\"fpbtn\" type=\"submit\">\r\n                      Get\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"adminbtndiv\">\r\n          <button className=\"adminbtn\" onClick={adminfunc}></button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Logsign;\r\n"]},"metadata":{},"sourceType":"module"}